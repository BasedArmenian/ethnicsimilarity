<!-- jameezNetlifies0| -->
<h3>Compare two ethnicities' similarity.</h3>
<select name="ethnicity1" id="ethnicity1">
	<option value="ARM">Armenians</option>
	<option value="AZER">Azerbaijanis</option>
	<option value="BASQUE">Basque</option>
	<option value="FRANCAIS">French</option>
	<option value="DEUTSCH">Germans</option>
	<option value="CRETE">Greeks (Crete)</option>
	<option value="GREEKMAIN">Greeks (Mainland)</option>
	<option value="PONT">Greeks (Pontic)</option>
	<option value="IRISH">Irish</option>
	<option value="KART">Georgians</option>
	<option value="PERS">Persians</option>
	<option value="RUSCENTER">Russians (Center)</option>
	<option value="RUSNORTH">Russians (North)</option>
	<option value="RUSSOUTH">Russians (South)</option>
	<option value="RUS">Russians (Overall)</option>
	<option value="SYRIA">Syrians</option>
</select>
<select name="ethnicity2" id="ethnicity2">
	<option value="ARM">Armenians</option>
	<option value="AZER">Azerbaijanis</option>
	<option value="BASQUE">Basque</option>
	<option value="FRANCAIS">French</option>
	<option value="DEUTSCH">Germans</option>
	<option value="CRETE">Greeks (Crete)</option>
	<option value="GREEKMAIN">Greeks (Mainland)</option>
	<option value="PONT">Greeks (Pontic)</option>
	<option value="IRISH">Irish</option>
	<option value="KART">Georgians</option>
	<option value="PERS">Persians</option>
	<option value="RUSCENTER">Russians (Center)</option>
	<option value="RUSNORTH">Russians (North)</option>
	<option value="RUSSOUTH">Russians (South)</option>
	<option value="RUS">Russians (Overall)</options>
	<option value="SYRIA">Syrians</option>
</select>
<button onclick="compare()">Compare!</button>

<script>
	function compare(){
	ethn1 = document.getElementById("ethnicity1").value
	ethn2 = document.getElementById("ethnicity2").value

	set1 = {}; set2 = {}

	fetch("ethnicdna.txt")
		.then((res) => res.text())
		.then((text) => {
			eDNAlines = text.split("\n")
			ethn1line = 0;ethn2line = 0

			for(i=0;i<eDNAlines.length;i++){
				if(eDNAlines[i] == ethn1){
					ethn1line = i
				}
			}

			for(i=0;i<eDNAlines.length;i++){
				if(eDNAlines[i] == ethn2){
					ethn2line = i
				}
			}

			x = ethn1line + 1
			while(eDNAlines[x]!=""){
				eDNAval = eDNAlines[x].split(" ")
				set1[eDNAval[0]] = eDNAval[1]
				x+=1
			}
			x = ethn2line + 1
			while(eDNAlines[x]!=""){
				eDNAval = eDNAlines[x].split(" ")
				set2[eDNAval[0]] = eDNAval[1]
				x+=1
			}

			set1keys = Object.keys(set1)
			set2keys = Object.keys(set2)
			matchingkeys = []
			matchingdict = {}

			for(i=0;i<set1keys.length;i++){
				for(j=0;j<set2keys.length;j++){
					if(set1keys[i] == set2keys[j]){
						matchingkeys.push(set1keys[i])
					}
				}
			}
			for(i=0;i<matchingkeys.length;i++){
				matchingdict[matchingkeys[i]] = Math.min(parseInt(set1[matchingkeys[i]]), parseInt(set2[matchingkeys[i]]))
			}
			console.log(matchingdict)

			mdv = Object.values(matchingdict)
			for(i=0;i<mdv.length;i++){
				sum += mdv[i]
			}
			console.log(sum)
		})
		.catch((e) => console.error(e))
}
</script>
